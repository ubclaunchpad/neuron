@use "mixins" as *;
@use "typography" as *;
@use "variables" as *;

.datepicker {
  background: $bg-white;

  &__label {
    @include text-reg;
    color: $text-dark;
  }

  &__field {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: $padding-xs;

    padding-inline: $padding-md;
    padding-block: $padding-sm;

    border: 1px solid $primary;
    border-radius: $radius-regular;
    box-shadow: $shadow-regular;

    &-trigger {
      cursor: pointer;
    }
  }

  &__input {
    display: inline-flex;
    align-items: center;
    gap: 2px;
    min-width: 10ch;

    .datepicker__segment {
      @include text-reg;
      line-height: 1;
      padding: 0 1px;
      color: $text-dark;
      border-radius: $radius-xs;

      &[data-placeholder] { 
        color: $text-grey; 
      }

      &[data-focused] {
        background: $bg-white-hover;
        padding-block: $padding-xxs;
        margin-block: -$padding-xxs;
      }

      &:focus { outline: none; }
    }

    &--sr-only {
      position: absolute;
      opacity: 0;
      pointer-events: none;
      width: 0;
      height: 0;
      overflow: hidden;
    }
  }

  &__display {
    @include text-reg;
    line-height: 1;
    color: $text-dark;
    min-width: 10ch;
    white-space: nowrap;
  }

  /* Full-surface invisible trigger so the whole group opens the popover */
  &__overlay-trigger {
    position: absolute;
    inset: 0;
    background: none;
    border: 0;
    padding: 0;
    cursor: pointer;
  }

  &__trigger {
    @include text-icon;
    color: $text-grey;
  }

  &__dialog {
    background: $bg-white;
    border: 1px solid $primary;
    border-radius: $radius-regular;
    box-shadow: $shadow-regular;
    overflow: hidden;
  }
}
